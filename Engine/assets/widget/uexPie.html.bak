<!DOCTYPE HTML>
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
   <meta name="viewport" content="target-densitydpi=device-dpi, width=device-width, initial-scale=1.0, user-scalable=no" />
<link rel="stylesheet" type="text/css" href="css/index.css">
<title>饼状图功能</title>
<script type="text/javascript">
var cText = 0;
var cJson = 1;
var cInt = 2;
	function ScannerSuccessCallBack(opCode, dataType, data) {
        alert(data);
		var obj = eval('('+data+')');
		switch(dataType){
			case cText:
//				alert(data);
				break;
			case cJson:
			  document.getElementById('scanner').innerHTML = "Result:" + obj.code + "<br>Format:"+obj.type;
			  break;
			case cInt:
			    alert("uex.cInt");
			    break;
			  default:
			    alert("error");
			}
			
	}
	function ScannerFailedCallBack(data){
		alert(data);
	}
    function cbOpen(a,b,c){
        alert(a+b+c);
    }
    function pieOpen(){
        alert(1111);
//        var jsonStr = '{"id":"111","longitude":"116.404","latitude":"39.915","imageUrl":"","imageWidth":"60.0","imageHeight":"60.0","message":"this is beij","title":"我的位置"}';
        var x=document.getElementById("aa").value;
	    var y=document.getElementById("bb").value;
		  var w=document.getElementById("cc").value;
	    var h=document.getElementById("dd").value;
	  
	    uexPie.open(500,x,y,w,h);
	 //   uexPie.open(500,0,250,320,460-150);
     }
    function pieOpen1(){
		var x=document.getElementById("aa").value;
	    var y=document.getElementById("bb").value;
		  var w=document.getElementById("cc").value;
	    var h=document.getElementById("dd").value;
	  
	    uexPie.open(510,x,y,w,h);
       // uexPie.open(440,460,320,460-150,510);//第二个
    }
    function pieClose(){
        var idarr = ["500","510"];//        var idarr = ["500","510"];
        uexPie.close(idarr);
    }
	window.uexOnload = function(){
		
        uexWidgetOne.cbError = function(opid,type,error){
            alert(error);
        }
        //open的回调函数,
        uexPie.loadData = function(id){
//            alert('id:'+id);
            var jsonStr ='{"id":"'+id+'","data":[{"title":"高美梅","value":"10","color":"#FF6600","subTitle":"189345"},{"title":"瑞吉","value":"20","color":"#660099","subTitle":"12345"},{"title":"铂尔曼","value":"50","color":"#FF33FF","subTitle":"12345"},{"title":"仙人掌","value":"60","color":"#66CCFF","subTitle":"12345"},{"title":"苏州街","value":"40","color":"#FFFF00","subTitle":"12345"},{"title":"银川市","value":"80","color":"#009933","subTitle":"12345"},{"title":"李丽珍","value":"70","color":"#FF3333","subTitle":"12345"},{"title":"唐老二三","value":"120","color":"#00CCFF","subTitle":"189345"}]}';
            uexPie.setJsonData(jsonStr);
        }
	}
	
</script>
</head>
<body>
	<div class="tit">条形码扫描功能</div>
	<div class="conbor">
			<div class="consj">
				<span>饼状图</span>
				x<input type="text" id="aa" value="300"/><br>
				y<input type="text" id="bb" value="300"/><br>
				w<input type="text" id="cc" value="300"/><br>
				h<input type="text" id="dd" value="300"/><br>
				<input class="btn" type="button" value="打开饼状图1" onclick="pieOpen();">
                <input class="btn" type="button" value="打开饼状图2" onclick="pieOpen1();">
                <input class="btn" type="button" value="关闭" onclick="pieClose();">
			</div>
			<input class="btn" type="button" value="返回" onclick="uexWindow.back();">
		</div>
</body>
</html>