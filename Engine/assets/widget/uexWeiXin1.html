<!DOCTYPE HTML>
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="target-densitydpi=device-dpi, width=device-width, initial-scale=1.0, user-scalable=no" /><link rel="stylesheet" type="text/css" href="css/index.css">
<title>微信功能</title>
<script type="text/javascript">
var cText = 0;
var cJson = 1;
var cInt = 2;

	window.uexOnload = function(){
		uexWeiXin.cbIsWXAppInstalled=function(opCode,dataType,data){
			alert("cbIsWXAppInstalled："+data);
		};
        uexWeiXin.cbGetWXAppInstallUrl=function(opCode,dataType,data){
			alert("cbGetWXAppInstallUrl："+data);
		};
        uexWeiXin.cbSendTextContent=function(opCode,dataType,data){
            //data是状态码
            /* WXSuccess           = 0,
            WXErrCodeCommon     = -1,
            WXErrCodeUserCancel = -2,
            WXErrCodeSentFail   = -3,
            WXErrCodeAuthDeny   = -4,
            WXErrCodeUnsupport  = -5,*/
			//alert("cbSendTextContent："+data);
            document.getElementById("showStatus").innerHTML = "返回分享文字状态码:"+data;
		};
       uexWeiXin.cbSendImageContent=function(opCode,dataType,data){
			//data是状态码
			 document.getElementById("showPicStatus").innerHTML = "返回分享图片状态码:"+data;
		};
        
	}
    function shareText(){
        //分享文字
        var txt = "这是来自SoTowerMobile平台对微信支持测试";
        //分享场景 0：对话 1：朋友圈
		var type=document.getElementById("type").value;
        uexWeiXin.sendTextContent(type,txt);
    }
	function sharePic(){
        var thumImgPath = "res://sotower.png";
        var realImgPath = "res://sotower2.png";
         var txt = "这是来自SoTowerMobile平台对微信支持测试";
        //分享场景 0：对话 1：朋友圈
		var type=document.getElementById("type").value;
        //var title ="AppCan";
        //var des = "中国最大的移动中间键平台AppCan对微信分享的图片支持测试";
        uexWeiXin.sendImageContent(type,thumImgPath,realImgPath);
    }
</script>
</head>

<body>
	<div class="tit">微信功能</div>
	<div class="conbor">
		<div class="consj">
			<span>1.注册app id</span>wx99e31375fc22d8d3
			<input class="btn" type="button" value="iOS注册App" onclick="uexWeiXin.registerApp('wxd930ea5d5a258f4f');">
			<input class="btn" type="button" value="android注册App" onclick="uexWeiXin.registerApp('wx99e31375fc22d8d3');">
			<div class="tcxx" id="selectItem"></div><br>
            <span>2.检测是否安装微信</span>
            <input class="btn" type="button" value="检测" onclick="uexWeiXin.isWXAppInstalled();">
            <div class="tcxx" id="selectItem"></div><br>
            <span>3.获取微信itunes安装地址</span>
            <input class="btn" type="button" value="获取地址" onclick="uexWeiXin.getWXAppInstallUrl();">
            <div class="tcxx" id="selectItem"></div><br>
            <span>4.通过微信分享文本到对话，或者朋友圈</span>
			<input type="text" value="0" id="type">
            <input class="btn" type="button" value="分享文本" onclick="shareText();">
            <div class="tcxx" id="showStatus"></div><br>
            <span>5.分享图片</span>
            <input class="btn" type="button" value="分享图片" onclick="sharePic();">
            <div class="tcxx" id="showPicStatus"></div><br>
			<!--<span>1.打开日期</span>
			年份：<input class="textbox" type="text" value="1900" id="addYear"><br>
			月份：<input class="textbox" type="text" value="10" id="addMonth"><br>
			天数：<input class="textbox" type="text" value="19" id="addDay"><br>
			<input class="btn" type="button" value="打开日期" onclick="uexControl.openDatePicker(document.getElementById('addYear').value,document.getElementById('addMonth').value,document.getElementById('addDay').value);">
			<span>日期为：</span>
			<div class="tcxx" id="date"></div>
			<span>2.打开时间</span>
			小时：<input class="textbox" type="text" value="10" id="addHour"><br>
			分钟：<input class="textbox" type="text" value="10" id="addMinute"><br>
			<input class="btn" type="button" value="打开时间" onclick="uexControl.openTimePicker(document.getElementById('addHour').value,document.getElementById('addMinute').value);">
                
			<span>时间为：</span>
			<div class="tcxx" id="systime"></div>
                <spa>以下为《爱日租》项目测试控件</span>
                <span>3.打开日历控件</span>
                显示标题：<input class="textbox" type="text" value="入住时间" id="initTitle"><br/>
                传入初始日期：<input class="textbox" type="text" value="开始日期" id="sDate"><br/>
                 传入截止日期：<input class="textbox" type="text" value="截止日期" id="eDate"><br/>
                禁止点击日期数组：<input class="textbox" type="text" value="" id="dateArr"><br/>
                <input class="btn" type="button" value="打开日历" onclick="openCalendar();">
                </br>
                <div class="tcxx" id="calendar"></div></br>
                <span>4.打开TableView控件</span>
                显示标题：<input class="textbox" type="text" value="选择城市" id="initCity"><br/>             
                        <input class="btn" type="button" value="打开tableview" onclick="uexControl.openTableView();"> </br>
                <div class="tcxx" id="resultCity"></div></br>-->

			<input class="btn" type="button" value="返回" onclick="uexWindow.back();">		
		</div>
	</div>
</body>
</html>